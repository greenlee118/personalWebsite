<!DOCTYPE html>
<html>
    <head>
        <title>美食日历</title>
        <link rel="stylesheet" href="style.css"/>     


    </head>
    <body>

      <h2 id="css-h2"
      style="background-color: bisque;border: 5px solid rgb(203, 192, 44);">欢迎来到晓橙的网站</h2>
      <div style="color: rgb(215, 134, 62); font-size: 20px;padding: 10px 20px ;margin: 20px 20px; position:relative;left:10px ;top:10px">
        <p 
        style="background-color: antiquewhite;border: 2px dashed rebeccapurple;
         width:210px;height: 35px;">这里有很多有趣的东西</p>

      </div>
      <br/>

      <button onclick="
      cart.totalPrice=0;
      cart.dishNum=0;
      cart.dish01.num=0;
      cart.dish02.num=0;
      cart.dish03.num=0;
      showCart();
      localStorage.removeItem('cart');

      console.log('当前消费总额：'+cart.totalPrice);
        ">清空消费额</button>
      <button onclick="console.log('当前消费总额：'+cart.totalPrice);
      ">消费总额</button>

      <br/>
      <br/>


      <img src="images/cl01.jpg" alter="黄金蟹粉拌蟹籽馄饨" width="250" height="200" style="float: left;">
      <br/>

      <p class="price">49RMB</p>
      <p>
        这款黄金蟹粉拌蟹籽馄饨，选用鲜美蟹粉与饱满蟹籽精心制作，馄饨皮薄如蝉翼，包裹着鲜嫩的蟹肉馅。蟹籽在口中轻轻爆破，带来层次丰富的海洋风味，而黄金蟹粉的香浓点缀则更添鲜香。每一口都是大海与手工匠心的完美融合，带您体验极致的鲜美盛宴。</p>
      <button onclick="
        cart.dishNum+=1;
        cart.dish01.num++;
        cart.totalPrice+=49;
        saveCart();
        showCart();"
      >加入消费计划</button>
      <br/>
      <hr/>

     

      <img src="images/cl02.jpg" alter="艇仔粥" width="250" height="200" style="float: right;"/>
     
      <p class="food background-grey">艇仔粥，源自传统粤式水乡风味，将新鲜的鱼片、虾仁、鱿鱼等海鲜精华融入软滑细腻的米粥中。每一勺都满载鲜甜，搭配爽口的炸花生、香脆的油条与清香的葱姜调味，口感层次丰富，鲜美而不腻。品味艇仔粥，犹如乘舟徜徉在岭南水乡，感受一碗暖心暖胃的舌尖享受。</p>
      <p class="price">36RMB</p>
      <button onclick="
        cart.dishNum++;
        cart.dish02.num++;
        cart.totalPrice+=36;

        saveCart();
        showCart();
      ">加入消费计划</button>
      <br/>
      <hr/>

    
      <img src="images/cl04.jpg" alter="牛肉乌冬面" width="250" height="200"/>
      <p class="price">38RMB</p>
      <button onclick="
      cart.dishNum++;
      cart.dish03.num++;
      cart.totalPrice+=36;
      saveCart();
      showCart();
      ">加入消费计划</button>
      <br/>
      <hr/>

      <span>你想要一盘滑蛋虾仁吗</span>
      <span style="display: block;">点击下方按钮来一盘</span>
      <img src="images/hdxr.jpg "alter="牛肉乌冬面" width="250"/>
      <br/>
      <br/>
      <div style="position:relative;padding: 30px; border: 5px solid rebeccapurple;">
        <div style="position:relative; padding:30px; border: 5px solid blue;">
          <div style=" position : absolute;top:0px;right:0px;width:60px; height:60px;border-radius: 10px 20px 30px 40px; background-color: rgb(230, 135, 11);"></div>
        </div>
      </div>
      <p>请选择 剪刀 石头 布</p>
      <button onclick='

        whoWins("剪刀");
        '>剪刀</button>
 

      <button onclick='
      whoWins("石头");
      ' >石头</button>
      <button
      onclick='
      whoWins("布");

      '>布</button>

      <script>
        let cart=JSON.parse(localStorage.getItem("cart"));
        if(!cart){
                cart={
                dishNum:0,
                dish01:{
                  num:0,
                  name:"蟹黄拌蟹籽馄饨",
                  price:49
                },
                dish02:{
                  num:0,
                  name:"艇仔粥",
                  price:36
                },
                dish03:{
                  num:0,
                  name:"牛肉乌冬面",
                  price:38
                },
                totalPrice:0,
            };

        }

        function generaterComputerChoice(){
          let computerChoice= "";
          const randomNum=Math.random()*3;

        console.log(randomNum);

        if(0<=randomNum && randomNum<1){
          computerChoice="剪刀";
        } else if(1<=randomNum && randomNum<2){
          computerChoice="石头"
        } else{computerChoice="布"}

        return computerChoice;
        }
        function calculateDiscount(price,dicount=0.9){
          const dicountPrice=price*dicount;
          return dicountPrice;
        }

        function whoWins(userChoice){
          const computerChoice=generaterComputerChoice();
          if(userChoice==="石头"){
            if(computerChoice==="剪刀"){
                  alert(`你出${userChoice},电脑出{computerChoice} 此局你赢了`);
                }
            else if(computerChoice==="石头"){
                  alert(`你出${userChoice}，电脑出${computerChoice} 此局平手`);
                }
            else{
                  alert(`你出${userChoice}，电脑出${computerChoice} 此局你输了`);
                  }
                }
          else if(userChoice==="剪刀"){
                if(computerChoice==="剪刀"){
                    alert(`你出${userChoice}，电脑出${computerChoice} 此局平手`);
                  }
                  else if(computerChoice==="石头"){
                    alert(`你出${userChoice}，电脑出${computerChoice} 此局你输了`);
                  }
                  else{
                    alert(`你出${userChoice}，电脑出${computerChoice} 此局你赢了`);
                    }
                }
          else{
                if(computerChoice==="剪刀"){
                  alert(`你出你出${userChoice}，电脑出${computerChoice} 此局你输了`);
                }
                else if(computerChoice==="石头"){
                  alert(`你出你出${userChoice}，电脑出${computerChoice} 此局你赢了`);
                }
                else{
                  alert(`你出你出${userChoice}，电脑出${computerChoice} 此局平手`);
                  }
          }

          }


        function showCart(){
          console.log(`目前消费菜品数：${cart.dishNum}`);
          console.log(`${cart.dish01.name}:${cart.dish01.num}`);
          console.log(`${cart.dish02.name}:${cart.dish02.num}`);
          console.log(`${cart.dish03.name}:${cart.dish03.num}`);
          console.log(`当前消费总金额：${cart.totalPrice}`);
        }
        function saveCart(){
          const jsonCart=JSON.stringify(cart);
          localStorage.setItem("cart",jsonCart);
        }

        console.log(document.body.innerHTML);
      </script>
    </body>
</html>


